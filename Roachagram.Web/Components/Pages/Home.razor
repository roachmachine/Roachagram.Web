@page "/"
@rendermode InteractiveServer


<PageTitle>Roachagram!</PageTitle>

<SeoMeta
    Title="Roachagram! — Fast anagrams & summaries"
    Description="Roachagram transforms your words into clever anagrams and short summaries. We do not store any personally identifiable information."
    Keywords="anagram, name anagram, wordplay, roach machine"
    Canonical="https://roachagram.com/"
    Image="/roach_machine_logo.png"
    JsonLd="@JsonLdData" />

<div style="min-width:320px;padding:10px;color:white;font-family:monospace;">
    <div style="padding:10px;text-align:center;">
        <img src="/roach_machine_logo.png"
             style="height:100px;object-fit:contain;display:block;margin:0 auto;" />

        <h3>Roachagram!</h3>

        <div>
            Powered by <a class="roach-link" href="https://roachmachine.com" target="_blank" rel="noopener noreferrer">Roach Machine</a> © 2025
        </div>
        <div>
            Smart anagrams in ~15 seconds, sometimes longer.
            English only. No data stored. No tracking. Free.
        </div>
    </div>

    <div style="display:flex;gap:10px;justify-content:center;align-items:center;">
        <input aria-label="Enter words or a name"
               placeholder="@PlaceholderText"
               maxlength="15"
               disabled="@IsLoading"
               @bind="Input"
               @bind:event="oninput"
               style="width:250px;background:white;color:black;padding:6px;border-radius:4px;border:1px solid #ccc;" />

        <button type="button"
                title="Submits input for anagrams"
                @onclick="OnSubmit"
                disabled="@IsLoading"
                style="width:100px;background:white;color:black;border:1px solid #ccc;padding:6px;border-radius:4px;">
            @ButtonText
        </button>
    </div>


    @if (IsLoading)
    {
        <div style="text-align:center;margin-top:20px;">
            <div class="spinner-border text-light" role="status" style="width:80px;height:80px;">
                <span class="visually-hidden">Thinking...</span>
            </div>
        </div>
    }

    <div style="text-align:center;margin-top:20px;">
        @if (!string.IsNullOrEmpty(DisplayText))
        {
            <div id="typedText" style="font-family:monospace;white-space:pre-wrap;margin:0 auto;max-width:800px;text-align:left;color:white;">
                @((MarkupString)DisplayText)
            </div>
        }
    </div>
</div>